(function(t){function e(e){for(var i,r,c=e[0],o=e[1],l=e[2],u=0,h=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&h.push(n[r][0]),n[r]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);d&&d(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,c=1;c<a.length;c++){var o=a[c];0!==n[o]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={app:0},s=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=o;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"29cd":function(t,e,a){"use strict";var i=a("abb1"),n=a.n(i);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("transition",{attrs:{name:"fade"}},[t.isLoading?a("div",{staticClass:"loading-screen"},[a("div",{staticClass:"loading-screen__path"},[a("div",{staticClass:"loading-screen__starship"},[a("div",{staticClass:"loading-screen__fire"},[a("div",{staticClass:"loading-screen__flame loading-screen__flame--1"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--2"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--3"})])])])]):t._e()]),a("section",{staticClass:"maincontent"},[t.isLoading?t._e():a("form",{staticClass:"searchbar",on:{submit:t.search}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inquiry,expression:"inquiry"}],staticClass:"searchbar__input",attrs:{placeholder:"Search by Name",type:"text"},domProps:{value:t.inquiry},on:{input:[function(e){e.target.composing||(t.inquiry=e.target.value)},t.debouncedGetCharacters]}}),a("button",{staticClass:"searchbar__button",attrs:{type:"submit"}})]),t.isLoading?t._e():a("ul",{staticClass:"characters-list"},t._l(t.characterData.results,(function(t){return a("li",{key:t.name,staticClass:"characters-list__character"},[a("card",{attrs:{char:t}})],1)})),0),t.isAdditionalLoadingAvailable?t._e():a("div",{staticClass:"errormessage"},[t._v(" Impossible. Perhaps the archieves are incomplete ")])]),t.isAdditionalLoading?a("transition",{attrs:{name:"fade"}},[a("div",{staticClass:"loading-screen loading-screen--additional"},[a("div",{staticClass:"loading-screen__path"},[a("div",{staticClass:"loading-screen__starship"},[a("div",{staticClass:"loading-screen__fire"},[a("div",{staticClass:"loading-screen__flame loading-screen__flame--1"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--2"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--3"})])])])])]):t._e()],1)])},s=[],r=a("5530"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card",class:{opened:t.isOpened}},[a("div",{staticClass:"card__information"},[t.isOpened?a("button",{staticClass:"card__button",on:{click:t.close}},[t._v("Ð¥")]):t._e(),a("div",{staticClass:"card__visible",on:{click:t.open}},[a("div",{staticClass:"card__userpic",style:{background:t.activeColor}},[t._v(" "+t._s(t.firstLetter)+" ")]),a("h2",{staticClass:"card__name"},[t._v(t._s(t.char.name))]),t.isOpened?t._e():a("div",{staticClass:"card__species"},[t._v(t._s(t.species))])]),t.isOpened?a("div",{staticClass:"card__hidden"},[t.isLoading?a("div",{staticClass:"loading-screen loading-screen--card"},[t._m(0)]):t._e(),a("div",{staticClass:"card__hidden-element card__hidden-element--year"},[a("div",{staticClass:"card__key"},[t._v("birth")]),a("div",{staticClass:"card__value"},[t._v(t._s(t.char.birth_year))])]),a("div",{staticClass:"card__hidden-element card__hidden-element--homeplanet"},[a("div",{staticClass:"card__key"},[t._v("homeplanet")]),a("div",{staticClass:"card__value"},[t._v(t._s(t.homeplanet))])]),a("div",{staticClass:"card__hidden-element card__hidden-element--species"},[a("div",{staticClass:"card__key"},[t._v("species")]),a("div",{staticClass:"card__value"},[t._v(t._s(t.species))])]),a("div",{staticClass:"card__hidden-element card__hidden-element--gender"},[a("div",{staticClass:"card__key"},[t._v("gender")]),a("div",{staticClass:"card__value"},[t._v(t._s(t.char.gender))])]),a("div",{staticClass:" card__hidden-element card__hidden-element--films"},[a("div",{staticClass:"card__key"},[t._v("Movies")]),a("ul",{staticClass:"card__film-list"},t._l(t.movies,(function(t){return a("li",{key:t.name,staticClass:"card__films-item value"},[a("film",{attrs:{film:t}})],1)})),0)])]):t._e()])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loading-screen__path"},[a("div",{staticClass:"loading-screen__starship"},[a("div",{staticClass:"loading-screen__fire"},[a("div",{staticClass:"loading-screen__flame loading-screen__flame--1"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--2"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--3"})])])])}],l=(a("b0c0"),a("ac1f"),a("5319"),a("bc3a")),d=a.n(l),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(t._s(t.film))])},h=[],_={props:{film:String},data:function(){return{filmTitle:""}}},f=_,p=a("2877"),m=Object(p["a"])(f,u,h,!1,null,null,null),v=m.exports,g={props:{char:{}},components:{film:v},data:function(){return{isOpened:!1,homeplanet:"",homelink:"",species:"Human",isLoading:!0,colors:["#F08080","#FF0000","#FF69B4","#FF6347","#FF00FF","#9932CC","#6A5ACD","#00FF00","#FFFF00"],activeColor:"",movies:[],filmLinks:[]}},mounted:function(){this.getSpecies()},beforeMount:function(){this.setColor()},methods:{getSpecies:function(){var t=this;if(this.char.species[0]){var e=this.char.species[0].replace("http://","https://");e&&d.a.get("".concat(e)).then((function(e){return t.species=e.data.name}))}},open:function(){this.isOpened=!0,this.char.homeworld!==this.homelink&&this.getHomeworld(),this.char.films!==this.filmLinks&&this.getFilms()},close:function(){this.isOpened=!1},getHomeworld:function(){var t=this,e=this.char.homeworld.replace("http://","https://");d.a.get("".concat(e)).then((function(e){return t.homeplanet=e.data.name}),setTimeout((function(){return t.isLoading=!1}),2e3)),this.homelink=this.char.homeworld},getFilms:function(){for(var t=this,e=0;e<=this.char.films.length;e++)if(this.char.films[e]){var a=this.char.films[e].replace("http://","https://");d.a.get("".concat(a)).then((function(e){return t.movies.push(e.data.title)}))}this.filmLinks=this.char.films},setColor:function(){var t=Math.floor(Math.random(0,this.colors.length)*Math.floor(this.colors.length));this.colors[t],this.activeColor=this.colors[t]}},computed:{firstLetter:function(){return this.char.name.charAt(0)}}},C=g,b=(a("29cd"),Object(p["a"])(C,c,o,!1,null,null,null)),y=b.exports;function w(t,e){var a=!1;return function(){a||(a=!0,setTimeout((function(){a=!1,t.call()}),e))}}var L=a("2f62"),O={name:"App",components:{card:y},data:function(){return{inquiry:""}},computed:Object(r["a"])({},Object(L["c"])({characterData:function(t){return t.swData.characterData},isLoading:function(t){return t.swData.isLoading},isAdditionalLoading:function(t){return t.swData.isAdditionalLoading},isAdditionalLoadingAvailable:function(t){return t.swData.isAdditionalLoadingAvailable}}),{debouncedGetCharacters:function(){return w(this.delayedSearch,1e3)},bottomOfWindow:function(){return document.documentElement.scrollTop+window.innerHeight}}),mounted:function(){this.getAllData(),this.scroll()},methods:Object(r["a"])({},Object(L["b"])(["getData","loadNextPage","searchCharacters"]),{getAllData:function(){this.getData()},search:function(t){t.preventDefault(),this.searchCharacters(this.inquiry)},delayedSearch:function(){this.searchCharacters(this.inquiry)},scroll:function(){var t=this;window.onscroll=function(){var e=Math.round(document.documentElement.scrollTop+window.innerHeight),a=Math.round(document.documentElement.offsetHeight);e!=a&&e+1!=a||!t.isLoading&&t.isAdditionalLoadingAvailable&&t.loadNextPage()}}})},A=O,k=(a("5c0b"),Object(p["a"])(A,n,s,!1,null,null,null)),D=k.exports,F={state:{characterData:[],nextPage:2,isLoading:!0,isAdditionalLoading:!1,isAdditionalLoadingAvailable:!0},mutations:{getData:function(t){d.a.get("https://swapi.dev/api/people/").then((function(e){return setTimeout((function(){return t.characterData=e.data,t.isLoading=!1}),2e3)}))},loadNextPage:function(t){function e(e){for(var a=0;a<e.data.results.length;a++)t.characterData.results.push(e.data.results[a]),console.log(t.isAdditionalLoading)}d.a.get("https://swapi.dev/api/people/?page=".concat(t.nextPage),{validateStatus:function(t){return 200===t}}).then((function(a){t.isAdditionalLoading=!0,setTimeout((function(){return e(a)}),500)})).catch((function(e){console.log(e),t.isAdditionalLoading=!1,t.isAdditionalLoadingAvailable=!1})),t.nextPage++},searchCharacters:function(t,e){d.a.get("https://swapi.dev/api/people/?search=".concat(e)).then((function(e){return t.characterData=e.data}))}}},x=F;i["a"].use(L["a"]);var j=new L["a"].Store({modules:{swData:x}});i["a"].config.productionTip=!1,new i["a"]({store:j,render:function(t){return t(D)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var i=a("9c0c"),n=a.n(i);n.a},"9c0c":function(t,e,a){},abb1:function(t,e,a){}});
//# sourceMappingURL=app.04f48d8f.js.map