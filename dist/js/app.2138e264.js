(function(e){function t(t){for(var i,r,c=t[0],o=t[1],l=t[2],u=0,h=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&h.push(n[r][0]),n[r]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);d&&d(t);while(h.length)h.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,c=1;c<a.length;c++){var o=a[c];0!==n[o]&&(i=!1)}i&&(s.splice(t--,1),e=r(r.s=a[0]))}return e}var i={},n={app:0},s=[];function r(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=i,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(a,i,function(t){return e[t]}.bind(null,i));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=o;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"29cd":function(e,t,a){"use strict";var i=a("abb1"),n=a.n(i);n.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("transition",{attrs:{name:"fade"}},[e.isLoading?a("div",{staticClass:"loading-screen"},[a("div",{staticClass:"loading-screen__path"},[a("div",{staticClass:"loading-screen__starship"},[a("div",{staticClass:"loading-screen__fire"},[a("div",{staticClass:"loading-screen__flame loading-screen__flame--1"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--2"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--3"})])])])]):e._e()]),a("section",{staticClass:"maincontent"},[e.isLoading?e._e():a("form",{staticClass:"searchbar",on:{submit:e.search}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.inquiry,expression:"inquiry"}],staticClass:"searchbar__input",attrs:{placeholder:"Search by Name",type:"text"},domProps:{value:e.inquiry},on:{input:[function(t){t.target.composing||(e.inquiry=t.target.value)},e.debouncedGetCharacters]}}),a("button",{staticClass:"searchbar__button",attrs:{type:"submit"}})]),e.isLoading?e._e():a("ul",{staticClass:"characters-list"},e._l(e.characterData.results,(function(t){return a("li",{key:t.name,staticClass:"characters-list__character"},[a("card",{attrs:{char:t},on:{openCard:e.openCard,closeCard:e.closeCard}})],1)})),0),e.isThisIsTheEnd?a("div",{staticClass:"errormessage"},[e._v(" Impossible. Perhaps the archieves are incomplete ")]):e._e()]),e.isAdditionalLoading?a("transition",{attrs:{name:"fade"}},[a("div",{staticClass:"loading-screen loading-screen--additional"},[a("div",{staticClass:"loading-screen__path"},[a("div",{staticClass:"loading-screen__starship"},[a("div",{staticClass:"loading-screen__fire"},[a("div",{staticClass:"loading-screen__flame loading-screen__flame--1"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--2"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--3"})])])])])]):e._e(),(e.isCardOpened,e.showLinkToTheTop?a("a",{staticClass:"link-to-top",attrs:{href:"#top"}}):e._e())],1)])},s=[],r=a("5530"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card",class:{opened:e.isOpened}},[a("div",{staticClass:"card__information"},[e.isOpened?a("button",{staticClass:"card__button",on:{click:e.close}},[e._v("Ð¥")]):e._e(),a("div",{staticClass:"card__visible",on:{click:e.open}},[a("div",{staticClass:"card__userpic",style:{background:e.activeColor}},[e._v(" "+e._s(e.firstLetter)+" ")]),a("h2",{staticClass:"card__name"},[e._v(e._s(e.char.name))]),e.isOpened?e._e():a("div",{staticClass:"card__species"},[e._v(e._s(e.species))])]),e.isOpened?a("div",{staticClass:"card__hidden"},[e.isLoading?a("div",{staticClass:"loading-screen loading-screen--card"},[e._m(0)]):e._e(),a("div",{staticClass:"card__hidden-element card__hidden-element--year"},[a("div",{staticClass:"card__key"},[e._v("birth")]),a("div",{staticClass:"card__value"},[e._v(e._s(e.char.birth_year))])]),a("div",{staticClass:"card__hidden-element card__hidden-element--homeplanet"},[a("div",{staticClass:"card__key"},[e._v("homeplanet")]),a("div",{staticClass:"card__value"},[e._v(e._s(e.homeplanet))])]),a("div",{staticClass:"card__hidden-element card__hidden-element--species"},[a("div",{staticClass:"card__key"},[e._v("species")]),a("div",{staticClass:"card__value"},[e._v(e._s(e.species))])]),a("div",{staticClass:"card__hidden-element card__hidden-element--gender"},[a("div",{staticClass:"card__key"},[e._v("gender")]),a("div",{staticClass:"card__value"},[e._v(e._s(e.char.gender))])]),a("div",{staticClass:" card__hidden-element card__hidden-element--films"},[a("div",{staticClass:"card__key"},[e._v("Movies")]),a("ul",{staticClass:"card__film-list"},e._l(e.movies,(function(e){return a("li",{key:e.name,staticClass:"card__films-item value"},[a("film",{attrs:{film:e}})],1)})),0)])]):e._e()])])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"loading-screen__path"},[a("div",{staticClass:"loading-screen__starship"},[a("div",{staticClass:"loading-screen__fire"},[a("div",{staticClass:"loading-screen__flame loading-screen__flame--1"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--2"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--3"})])])])}],l=(a("b0c0"),a("ac1f"),a("5319"),a("bc3a")),d=a.n(l),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(e._s(e.film))])},h=[],_={props:{film:String},data:function(){return{filmTitle:""}}},f=_,p=a("2877"),m=Object(p["a"])(f,u,h,!1,null,null,null),v=m.exports,g={props:{char:{}},components:{film:v},data:function(){return{isOpened:!1,homeplanet:"",homelink:"",species:"Human",isLoading:!0,colors:["#F08080","#FF0000","#FF69B4","#FF6347","#FF00FF","#9932CC","#6A5ACD","#00FF00","#FFFF00"],activeColor:"",movies:[],filmLinks:[]}},mounted:function(){this.getSpecies()},beforeMount:function(){this.setColor()},methods:{getSpecies:function(){var e=this;if(this.char.species[0]){var t=this.char.species[0].replace("http://","https://");t&&d.a.get("".concat(t)).then((function(t){return e.species=t.data.name}))}},open:function(){this.isOpened=!0,this.$emit("openCard"),this.char.homeworld!==this.homelink&&this.getHomeworld(),this.char.films!==this.filmLinks&&this.getFilms()},close:function(){this.isOpened=!1,this.$emit("closeCard")},getHomeworld:function(){var e=this,t=this.char.homeworld.replace("http://","https://");d.a.get("".concat(t)).then((function(t){return e.homeplanet=t.data.name}),setTimeout((function(){return e.isLoading=!1}),2e3)),this.homelink=this.char.homeworld},getFilms:function(){for(var e=this,t=0;t<=this.char.films.length;t++)if(this.char.films[t]){var a=this.char.films[t].replace("http://","https://");d.a.get("".concat(a)).then((function(t){return e.movies.push(t.data.title)}))}this.filmLinks=this.char.films},setColor:function(){var e=Math.floor(Math.random(0,this.colors.length)*Math.floor(this.colors.length));this.colors[e],this.activeColor=this.colors[e]}},computed:{firstLetter:function(){return this.char.name.charAt(0)}}},C=g,b=(a("29cd"),Object(p["a"])(C,c,o,!1,null,null,null)),w=b.exports;function y(e,t){var a=!1;return function(){a||(a=!0,setTimeout((function(){a=!1,e.call()}),t))}}var T=a("2f62"),L={name:"App",components:{card:w},data:function(){return{inquiry:"",showLinkToTheTop:!1,isCardOpened:!1}},computed:Object(r["a"])({},Object(T["c"])({characterData:function(e){return e.swData.characterData},isLoading:function(e){return e.swData.isLoading},isAdditionalLoading:function(e){return e.swData.isAdditionalLoading},isAdditionalLoadingAvailable:function(e){return e.swData.isAdditionalLoadingAvailable},isThisIsTheEnd:function(e){return e.swData.isThisIsTheEnd}}),{debouncedGetCharacters:function(){return y(this.delayedSearch,1e3)},bottomOfWindow:function(){return document.documentElement.scrollTop+window.innerHeight}}),mounted:function(){this.getAllData(),this.scroll()},methods:Object(r["a"])({},Object(T["b"])(["getData","loadNextPage","searchCharacters"]),{getAllData:function(){this.getData()},openCard:function(){this.showLinkToTheTop=!1,this.isCardOpened=!0,document.documentElement.style.overflow="hidden"},closeCard:function(){document.documentElement.style.overflow="auto",this.isCardOpened=!1},search:function(e){e.preventDefault(),this.searchCharacters(this.inquiry)},delayedSearch:function(){this.searchCharacters(this.inquiry)},scroll:function(){var e=this;window.onscroll=function(){var t=Math.round(document.documentElement.scrollTop+window.innerHeight),a=Math.round(document.documentElement.offsetHeight);document.documentElement.scrollTop>window.innerHeight?e.showLinkToTheTop=!0:e.showLinkToTheTop=!1,t!=a&&t+1!=a||!e.isLoading&&e.isAdditionalLoadingAvailable&&e.loadNextPage()}}})},O=L,k=(a("5c0b"),Object(p["a"])(O,n,s,!1,null,null,null)),A=k.exports,D={state:{characterData:[],nextPage:2,isLoading:!0,isAdditionalLoading:!1,isAdditionalLoadingAvailable:!0,isThisIsTheEnd:!1},mutations:{getData:function(e){d.a.get("https://swapi.dev/api/people/").then((function(t){return setTimeout((function(){return e.characterData=t.data,e.isLoading=!1}),2e3)}))},loadNextPage:function(e){function t(t){for(var a=0;a<t.data.results.length;a++)e.characterData.results.push(t.data.results[a]),e.isAdditionalLoadingAvailable=!0}e.isAdditionalLoading=!0,e.isAdditionalLoadingAvailable=!1,d.a.get("https://swapi.dev/api/people/?page=".concat(e.nextPage),{validateStatus:function(e){return 200===e}}).then((function(e){setTimeout((function(){return t(e)}),1e3)})).catch((function(t){console.log(t),e.isAdditionalLoading=!1,e.isThisIsTheEnd=!0})),e.nextPage++},searchCharacters:function(e,t){d.a.get("https://swapi.dev/api/people/?search=".concat(t)).then((function(t){return e.characterData=t.data}))}}},F=D;i["a"].use(T["a"]);var x=new T["a"].Store({modules:{swData:F}});i["a"].config.productionTip=!1,new i["a"]({store:x,render:function(e){return e(A)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var i=a("9c0c"),n=a.n(i);n.a},"9c0c":function(e,t,a){},abb1:function(e,t,a){}});
//# sourceMappingURL=app.2138e264.js.map