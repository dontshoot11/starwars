(function(t){function e(e){for(var n,r,c=e[0],l=e[1],o=e[2],u=0,_=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&_.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(_.length)_.shift()();return i.push.apply(i,o||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,c=1;c<a.length;c++){var l=a[c];0!==s[l]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},s={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var o=0;o<c.length;o++)e(c[o]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"29cd":function(t,e,a){"use strict";var n=a("abb1"),s=a.n(n);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("transition",{attrs:{name:"fade"}},[t.isLoading?a("div",{staticClass:"loading-screen"},[a("div",{staticClass:"loading-screen__path"},[a("div",{staticClass:"loading-screen__starship"},[a("div",{staticClass:"loading-screen__fire"},[a("div",{staticClass:"loading-screen__flame loading-screen__flame--1"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--2"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--3"})])])])]):t._e()]),a("section",{staticClass:"maincontent"},[a("form",{staticClass:"searchbar",attrs:{action:""},on:{submit:t.search}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inquiry,expression:"inquiry"}],staticClass:"searchbar__input",attrs:{placeholder:"Search by Name",type:"text"},domProps:{value:t.inquiry},on:{keyup:t.debouncedGetCharacters,input:function(e){e.target.composing||(t.inquiry=e.target.value)}}}),a("button",{staticClass:"searchbar__button",attrs:{type:"submit"}})]),a("ul",{staticClass:"characters-list"},[t._l(t.characterData.results,(function(t){return a("li",{key:t.name,staticClass:"characters-list__character"},[a("card",{attrs:{char:t}})],1)})),t.isErrored?a("div",{staticClass:"charactets-list__error"},[t._v("вот и всё!")]):t._e()],2)])],1)])},i=[],r=a("5530"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card",class:{opened:t.isOpened},on:{click:t.open}},[a("div",{staticClass:"card__information"},[a("div",{staticClass:"card__visible"},[a("div",{staticClass:"card__userpic"},[t._v(t._s(t.firstLetter))]),a("h2",{staticClass:"card__name"},[t._v(t._s(t.char.name))]),t.isOpened?t._e():a("div",{staticClass:"card__species"},[t._v(t._s(t.species))])]),t.isOpened?a("div",{staticClass:"card__hidden"},[a("transition",{attrs:{name:"card__fade"}},[t.isLoading?a("div",{staticClass:"loading-screen loading-screen--card"},[a("div",{staticClass:"loading-screen__path"},[a("div",{staticClass:"loading-screen__starship"},[a("div",{staticClass:"loading-screen__fire"},[a("div",{staticClass:"loading-screen__flame loading-screen__flame--1"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--2"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--3"})])])])]):t._e()]),a("div",{staticClass:"card__hidden-element card__hidden-element--year"},[a("div",{staticClass:"card__key"},[t._v("birth")]),a("div",{staticClass:"card__value"},[t._v(t._s(t.char.birth_year))])]),a("div",{staticClass:"card__hidden-element card__hidden-element--homeplanet"},[a("div",{staticClass:"card__key"},[t._v("homeplanet")]),a("div",{staticClass:"card__value"},[t._v(t._s(t.homeplanet))])]),a("div",{staticClass:"card__hidden-element card__hidden-element--species"},[a("div",{staticClass:"card__key"},[t._v("species")]),a("div",{staticClass:"card__value"},[t._v(t._s(t.species))])]),a("div",{staticClass:"card__hidden-element card__hidden-element--gender"},[a("div",{staticClass:"card__key"},[t._v("gender")]),a("div",{staticClass:"card__value"},[t._v(t._s(t.char.gender))])]),a("div",{staticClass:" card__hidden-element card__hidden-element--films"},[a("div",{staticClass:"card__key"},[t._v("Movies")]),a("ul",{staticClass:"card__film-list"},t._l(t.char.films,(function(e){return a("li",{key:e.name,staticClass:"card__films-item value"},[a("film",{attrs:{film:e,isOpened:t.isOpened}})],1)})),0)])],1):t._e()])])},l=[],o=(a("b0c0"),a("ac1f"),a("5319"),a("53ca")),d=a("bc3a"),u=a.n(d),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(t._s(t.filmTitle))])},p=[],h={props:{film:String,isOpened:Boolean},data:function(){return{filmTitle:""}},mounted:function(){var t=this,e=this.film.replace("http://","https://");u.a.get("".concat(e)).then((function(e){return t.filmTitle=e.data.title}))}},f=h,v=a("2877"),m=Object(v["a"])(f,_,p,!1,null,null,null),g=m.exports,b={props:{char:{}},components:{film:g},data:function(){return{isOpened:!1,homeplanet:"",species:"Human",isLoading:!0}},mounted:function(){var t=this;if(this.char.species[0]){var e=this.char.species[0].replace("http://","https://");e&&u.a.get("".concat(e)).then((function(e){return t.species=e.data.name}))}},updated:function(){var t=Object(o["a"])(this.species);"string"!==t&&(this.species="Human")},methods:{open:function(){var t=this;this.isOpened=!this.isOpened;var e=this.char.homeworld.replace("http://","https://");u.a.get("".concat(e)).then((function(e){return t.homeplanet=e.data.name}),setTimeout((function(){return t.isLoading=!1}),2e3))}},computed:{firstLetter:function(){return this.char.name.charAt(0)}}},C=b,y=(a("29cd"),Object(v["a"])(C,c,l,!1,null,null,null)),O=y.exports;function w(t,e){var a=!1;return function(){a||(t.call(),a=!0,setTimeout((function(){a=!1}),e))}}var x=a("2f62"),j={name:"App",components:{card:O},data:function(){return{inquiry:"",isErrored:!1}},computed:Object(r["a"])({},Object(x["c"])({characterData:function(t){return t.characterData.data}}),{},Object(x["c"])({isLoading:function(t){return t.characterData.isLoading}}),{debouncedGetCharacters:function(){return w(this.delayedSearch,1e3)},bottomOfWindow:function(){return document.documentElement.scrollTop+window.innerHeight},computedNewData:function(){return this.newData}}),mounted:function(){this.getAllData(),this.scroll()},methods:Object(r["a"])({},Object(x["b"])(["getData","loadNextPage"]),{getAllData:function(){this.getData()},getCharacters:function(){var t=this;u.a.get("https://swapi.dev/api/people/?search=".concat(this.inquiry)).then((function(e){return t.data=e.data}))},search:function(t){t.preventDefault(),this.getCharacters(),this.nextPage=2},delayedSearch:function(){this.getCharacters(),this.nextPage=2},scroll:function(){var t=this;window.onscroll=function(){var e=Math.round(document.documentElement.scrollTop+window.innerHeight),a=Math.round(document.documentElement.offsetHeight);e!=a&&e+1!=a||t.loadNextPage()}}})},P=j,D=(a("5c0b"),Object(v["a"])(P,s,i,!1,null,null,null)),k=D.exports,L={state:{data:[],nextPage:2,isLoading:!0},actions:{},getters:{},mutations:{getData:function(t){u.a.get("https://swapi.dev/api/people/").then((function(e){return t.data=e.data,t.isLoading=!1}))},loadNextPage:function(t){var e=[];u.a.get("https://swapi.dev/api/people/?page=".concat(t.nextPage)).then((function(a){200===a.status&&(e=a.data.results,t.data.results.push(e[0]),t.data.results.push(e[1]),t.data.results.push(e[2]),t.data.results.push(e[3]),t.data.results.push(e[4]),t.data.results.push(e[5]),t.data.results.push(e[6]),t.data.results.push(e[7]),t.data.results.push(e[8]),t.data.results.push(e[9]))})),t.nextPage++}}},S=L;n["a"].use(x["a"]);var T=new x["a"].Store({modules:{characterData:S}});n["a"].config.productionTip=!1,new n["a"]({store:T,render:function(t){return t(k)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),s=a.n(n);s.a},"9c0c":function(t,e,a){},abb1:function(t,e,a){}});
//# sourceMappingURL=app.92feb6d5.js.map