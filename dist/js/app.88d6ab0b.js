(function(t){function e(e){for(var s,r,c=e[0],l=e[1],d=e[2],u=0,_=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&_.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);o&&o(e);while(_.length)_.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,c=1;c<a.length;c++){var l=a[c];0!==n[l]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var o=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"29cd":function(t,e,a){"use strict";var s=a("abb1"),n=a.n(s);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("transition",{attrs:{name:"fade"}},[t.isLoading?a("div",{staticClass:"loading-screen"},[a("div",{staticClass:"loading-screen__path"},[a("div",{staticClass:"loading-screen__starship"},[a("div",{staticClass:"loading-screen__fire"},[a("div",{staticClass:"loading-screen__flame loading-screen__flame--1"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--2"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--3"})])])])]):t._e()]),a("section",{staticClass:"maincontent"},[a("form",{staticClass:"searchbar",attrs:{action:""},on:{submit:t.search}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inquiry,expression:"inquiry"}],staticClass:"searchbar__input",attrs:{placeholder:"Search by Name",type:"text"},domProps:{value:t.inquiry},on:{keyup:t.debouncedGetCharacters,input:function(e){e.target.composing||(t.inquiry=e.target.value)}}}),a("button",{staticClass:"searchbar__button",attrs:{type:"submit"}})]),a("ul",{staticClass:"characters-list"},[t._l(t.characterData.results,(function(t){return a("li",{key:t.name,staticClass:"characters-list__character"},[a("card",{attrs:{char:t}})],1)})),t.isErrored?a("div",{staticClass:"charactets-list__error"},[t._v("вот и всё!")]):t._e()],2)])],1)])},i=[],r=a("5530"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card",class:{opened:t.isOpened},on:{click:t.open}},[a("div",{staticClass:"card__information"},[a("div",{staticClass:"card__visible"},[a("div",{staticClass:"card__userpic"},[t._v(t._s(t.firstLetter))]),a("h2",{staticClass:"card__name"},[t._v(t._s(t.char.name))]),t.isOpened?t._e():a("div",{staticClass:"card__species"},[t._v(t._s(t.species))])]),t.isOpened?a("div",{staticClass:"card__hidden"},[a("transition",{attrs:{name:"card__fade"}},[t.isLoading?a("div",{staticClass:"loading-screen loading-screen--card"},[a("div",{staticClass:"loading-screen__path"},[a("div",{staticClass:"loading-screen__starship"},[a("div",{staticClass:"loading-screen__fire"},[a("div",{staticClass:"loading-screen__flame loading-screen__flame--1"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--2"}),a("div",{staticClass:"loading-screen__flame loading-screen__flame--3"})])])])]):t._e()]),a("div",{staticClass:"card__hidden-element card__hidden-element--year"},[a("div",{staticClass:"card__key"},[t._v("birth")]),a("div",{staticClass:"card__value"},[t._v(t._s(t.char.birth_year))])]),a("div",{staticClass:"card__hidden-element card__hidden-element--homeplanet"},[a("div",{staticClass:"card__key"},[t._v("homeplanet")]),a("div",{staticClass:"card__value"},[t._v(t._s(t.homeplanet))])]),a("div",{staticClass:"card__hidden-element card__hidden-element--species"},[a("div",{staticClass:"card__key"},[t._v("species")]),a("div",{staticClass:"card__value"},[t._v(t._s(t.species))])]),a("div",{staticClass:"card__hidden-element card__hidden-element--gender"},[a("div",{staticClass:"card__key"},[t._v("gender")]),a("div",{staticClass:"card__value"},[t._v(t._s(t.char.gender))])]),a("div",{staticClass:" card__hidden-element card__hidden-element--films"},[a("div",{staticClass:"card__key"},[t._v("Movies")]),a("ul",{staticClass:"card__film-list"},t._l(t.char.films,(function(e){return a("li",{key:e.name,staticClass:"card__films-item value"},[a("film",{attrs:{film:e,isOpened:t.isOpened}})],1)})),0)])],1):t._e()])])},l=[],d=(a("b0c0"),a("ac1f"),a("5319"),a("53ca")),o=a("bc3a"),u=a.n(o),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(t._s(t.filmTitle))])},h=[],p={props:{film:String,isOpened:Boolean},data:function(){return{filmTitle:""}},mounted:function(){var t=this,e=this.film.replace("http://","https://");u.a.get("".concat(e)).then((function(e){return t.filmTitle=e.data.title}))}},f=p,v=a("2877"),m=Object(v["a"])(f,_,h,!1,null,null,null),g=m.exports,b={props:{char:{}},components:{film:g},data:function(){return{isOpened:!1,homeplanet:"",species:"Human",isLoading:!0}},mounted:function(){var t=this;if(this.char.species[0]){var e=this.char.species[0].replace("http://","https://");e&&u.a.get("".concat(e)).then((function(e){return t.species=e.data.name}))}},updated:function(){var t=Object(d["a"])(this.species);"string"!==t&&(this.species="Human")},methods:{open:function(){var t=this;this.isOpened=!this.isOpened;var e=this.char.homeworld.replace("http://","https://");u.a.get("".concat(e)).then((function(e){return t.homeplanet=e.data.name}),setTimeout((function(){return t.isLoading=!1}),2e3))}},computed:{firstLetter:function(){return this.char.name.charAt(0)}}},C=b,y=(a("29cd"),Object(v["a"])(C,c,l,!1,null,null,null)),O=y.exports;function w(t,e){var a=!1;return function(){a||(t.call(),a=!0,setTimeout((function(){a=!1}),e))}}var x=a("2f62"),j={name:"App",components:{card:O},data:function(){return{inquiry:"",isErrored:!1}},computed:Object(r["a"])({},Object(x["c"])({characterData:function(t){return t.characterData.data}}),{},Object(x["c"])({isLoading:function(t){return t.characterData.isLoading}}),{debouncedGetCharacters:function(){return w(this.delayedSearch,1e3)},bottomOfWindow:function(){return document.documentElement.scrollTop+window.innerHeight}}),mounted:function(){this.getAllData(),this.scroll()},methods:Object(r["a"])({},Object(x["b"])(["getData","loadNextPage","searchCharacters"]),{getAllData:function(){this.getData()},search:function(t){t.preventDefault(),this.searchCharacters(this.inquiry),this.nextPage=2},delayedSearch:function(){this.searchCharacters(this.inquiry),this.nextPage=2},scroll:function(){var t=this;window.onscroll=function(){var e=Math.round(document.documentElement.scrollTop+window.innerHeight),a=Math.round(document.documentElement.offsetHeight);e!=a&&e+1!=a||t.loadNextPage()}}})},P=j,k=(a("5c0b"),Object(v["a"])(P,n,i,!1,null,null,null)),D=k.exports,L={state:{data:[],nextPage:2,isLoading:!0},actions:{},getters:{},mutations:{getData:function(t){u.a.get("https://swapi.dev/api/people/").then((function(e){return t.data=e.data,t.isLoading=!1}))},loadNextPage:function(t){var e=[];u.a.get("https://swapi.dev/api/people/?page=".concat(t.nextPage)).then((function(a){200===a.status&&(e=a.data.results,t.data.results.push(e[0]),t.data.results.push(e[1]),t.data.results.push(e[2]),t.data.results.push(e[3]),t.data.results.push(e[4]),t.data.results.push(e[5]),t.data.results.push(e[6]),t.data.results.push(e[7]),t.data.results.push(e[8]),t.data.results.push(e[9]))})),t.nextPage++},searchCharacters:function(t,e){u.a.get("https://swapi.dev/api/people/?search=".concat(e)).then((function(e){return t.data=e.data}))}}},S=L;s["a"].use(x["a"]);var T=new x["a"].Store({modules:{characterData:S}});s["a"].config.productionTip=!1,new s["a"]({store:T,render:function(t){return t(D)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),n=a.n(s);n.a},"9c0c":function(t,e,a){},abb1:function(t,e,a){}});
//# sourceMappingURL=app.88d6ab0b.js.map